import { RSConstantKey, RSConstantValue } from "../../constants/constants";
import { HttpMethod, HttpRequest } from "../http-request";

export class RSRequestParams extends URLSearchParams {
    constructor(searchTerm: string, index: string) {
        super({
            [RSConstantKey.search]: searchTerm,
            [RSConstantKey.key]: process.env.RS_SEARCH_KEY ?? "",
            [RSConstantKey.engine]: process.env.RS_SEARCH_ENGINE_ID ?? "",
            [RSConstantKey.fields]: RSConstantValue.fields,
            [RSConstantKey.index]: index
        });
    }
}

export class RSRequest extends HttpRequest {
    constructor(params: RSRequestParams) {
        super(process.env.RS_SEARCH_ENDPOINT ?? "", HttpMethod.get)
        this.params = params
    }
}