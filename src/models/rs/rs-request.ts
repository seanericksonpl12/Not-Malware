import { RSConstantKey, RSConstantValue } from "../../constants/constants";
import { HttpMethod, HttpRequest } from "../http-request";

export class RSRequestParams extends URLSearchParams {
    constructor(searchTerm: string, index: string) {
        super({
            [RSConstantKey.search]: searchTerm,
            [RSConstantKey.key]: process.env.RS_SEARCH_KEY,
            [RSConstantKey.engine]: process.env.RS_SEARCH_ENGINE_ID,
            [RSConstantKey.fields]: RSConstantValue.fields,
            [RSConstantKey.index]: index
        });
    }
}

export class RSRequest extends HttpRequest {
    params: RSRequestParams;
    endpoint: string;

    constructor(params: RSRequestParams) {
        super(HttpMethod.get)
        this.params = params
        this.endpoint = process.env.RS_SEARCH_ENDPOINT
    }
}