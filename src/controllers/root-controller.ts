import * as express from "express"
import { RSRequest, RSRequestParams } from "../models/rs/rs-request";
import { Controller } from "./controller";
import { HttpStatusCode } from "../constants/constants";
import { Maiq } from "../constants/maiq";
import { HttpError } from "../models/http-error";

export class RootController extends Controller {
    constructor() {
        super()
        this.router.get("/*", this.notFound);
    }

    async notFound(req: express.Request, res: express.Response, next: express.NextFunction) {
        try {
            const message = Maiq[Math.floor(Math.random() * Maiq.length)]
            const error = new HttpError(HttpStatusCode.NOT_FOUND, "This page does not exist!", message)
            next(error)
        } catch(error) {
            next(error);
        }
    }
}